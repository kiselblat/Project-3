{"version":3,"sources":["components/Header/index.js","components/Rater/index.js","utils/API.js","pages/Entry.js","components/Viewer/index.js","pages/Stats.js","components/Prefs/index.js","pages/Settings.js","pages/Login.js","pages/Register.js","App.js","registerServiceWorker.js","index.js"],"names":["Header","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","logout","bind","assertThisInitialized","event","_this2","preventDefault","console","log","axios","post","then","response","data","status","props","updateUser","loggedIn","username","catch","error","react_default","a","createElement","className","id","currentUser","react_router_dom","to","onClick","Component","Rater","type","value","name","onChange","checked","htmlFor","Submit","API","getAll","get","getAllFromUser","getDay","date","saveDay","rating","updateDay","put","sendMail","mail","Entry","getTodaysDate","today","Date","setHours","handleInputChange","_event$target","target","setState","defineProperty","handleSubmit","concat","state","dayRating","toDateString","List","_ref","children","ListItem","_ref2","DataChart","Stats","days","loadDays","res","err","prettyDate","dateString","length","map","day","key","_id","Sender","Settings","handleSend","html","Login","password","redirectTo","handleChange","react_router","pathname","placeholder","Register","confirmPassword","errmsg","App","getUser","componentDidMount","userObject","user","_this3","components_Header","exact","path","render","pages_Entry","pages_Stats","pages_Settings","pages_Register","pages_Login","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","src_App_0","document","getElementById","URL","process","origin","addEventListener","fetch","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.b2fc7976.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n// import { Redirect } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../App.css\";\r\nimport axios from \"axios\";\r\n\r\n\r\nclass Header extends Component {\r\n  constructor() {\r\n    super();\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n\r\n  logout(event) {\r\n    event.preventDefault();\r\n    console.log(\"logging out\");\r\n    axios.post(\"/user/logout\").then(response => {\r\n      console.log(response.data)\r\n      if (response.status === 200) {\r\n        this.props.updateUser({\r\n          loggedIn: false,\r\n          username: null\r\n        })\r\n      }\r\n    }).catch(error => {\r\n      console.log(\"Logout error\");\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const loggedIn = this.props.loggedIn;\r\n    console.log(\"header render, props: \");\r\n    console.log(this.props);\r\n\r\n    return (\r\n      <div>\r\n        <header className=\"navbar App-header\" id=\"nav-container\">\r\n          <div className=\"col-4\" >\r\n            {loggedIn ? (\r\n              <section className=\"navbar-section\">\r\n                <div>\r\n                  {this.props.currentUser}\r\n                </div>\r\n                <Link to=\"/\" className=\"btn btn-link text-secondary\">\r\n                  <span className=\"text-secondary\">home</span>\r\n                </Link>\r\n                <Link to=\"/stats\" className=\"btn btn-link text-secondary\">\r\n                  <span className=\"text-secondary\">stats</span>\r\n                </Link>\r\n                <Link to=\"/settings\" className=\"btn btn-link text-secondary\">\r\n                  <span className=\"text-secondary\">settings</span>\r\n                </Link>\r\n                <Link to=\"#\" className=\"btn btn-link text-secondary\" onClick={this.logout}>\r\n                  <span className=\"text-secondary\">logout</span>\r\n                </Link>\r\n              </section>\r\n            ) : (\r\n              <section className=\"navbar-section\">\r\n                <Link to=\"/\" className=\"btn btn-link text-secondary\">\r\n                  <span className=\"text-secondary\">home</span>\r\n                </Link>\r\n                <Link to=\"/login\" className=\"btn btn-link text-secondary\">\r\n                  <span className=\"text-secondary\">login</span>\r\n                </Link>\r\n                <Link to=\"/signup\" className=\"btn btn-link\">\r\n                  <span className=\"text-secondary\">sign up</span>\r\n                </Link>\r\n              </section>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"col-4 col-mr-auto\">\r\n            <div id=\"top-filler\"></div>\r\n              <h1 className=\"App-title\">Mood Tracker App</h1>\r\n          </div>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport function Rater(props) {\r\n  return (\r\n    <div className=\"rating-selector\">\r\n\r\n      <div className=\"form-check form-check-inline\">\r\n        <input \r\n          className=\"form-check-input\" \r\n          type=\"checkbox\" \r\n          id=\"inlineCheckbox1\" \r\n          value=\"1\"\r\n          name={props.name}\r\n          onChange={props.onChange}\r\n          checked={props.checked === \"1\"}\r\n        />\r\n        <label className=\"form-check-label\" htmlFor=\"inlineCheckbox1\">1</label>\r\n      </div>\r\n      <div className=\"form-check form-check-inline\">\r\n        <input \r\n          className=\"form-check-input\" \r\n          type=\"checkbox\" \r\n          id=\"inlineCheckbox2\" \r\n          value=\"2\" \r\n          name={props.name}\r\n          onChange={props.onChange}\r\n          checked={props.checked === \"2\"}          \r\n        />\r\n        <label className=\"form-check-label\" htmlFor=\"inlineCheckbox2\">2</label>\r\n      </div>\r\n      <div className=\"form-check form-check-inline\">\r\n        <input \r\n          className=\"form-check-input\" \r\n          type=\"checkbox\" \r\n          id=\"inlineCheckbox3\" \r\n          value=\"3\" \r\n          name={props.name}\r\n          onChange={props.onChange}\r\n          checked={props.checked === \"3\"}          \r\n        />\r\n        <label className=\"form-check-label\" htmlFor=\"inlineCheckbox3\">3</label>\r\n      </div>\r\n      <div className=\"form-check form-check-inline\">\r\n        <input \r\n          className=\"form-check-input\" \r\n          type=\"checkbox\" \r\n          id=\"inlineCheckbox4\" \r\n          value=\"4\" \r\n          name={props.name}\r\n          onChange={props.onChange}\r\n          checked={props.checked === \"4\"}          \r\n        />\r\n        <label className=\"form-check-label\" htmlFor=\"inlineCheckbox4\">4</label>\r\n      </div>\r\n      <div className=\"form-check form-check-inline\">\r\n        <input \r\n          className=\"form-check-input\" \r\n          type=\"checkbox\" \r\n          id=\"inlineCheckbox5\" \r\n          value=\"5\" \r\n          name={props.name}\r\n          onChange={props.onChange}\r\n          checked={props.checked === \"5\"}          \r\n        />\r\n        <label className=\"form-check-label\" htmlFor=\"inlineCheckbox5\">5</label>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function Submit(props) {\r\n  return(\r\n    <input className=\"btn btn-primary\" type=\"submit\" value=\"Submit\" onClick={props.onClick}></input>\r\n  )\r\n}","import axios from \"axios\";\r\n\r\nexport default {\r\n  // Gets all days\r\n  getAll: function() {\r\n    return axios.get(\"/api/days/\");\r\n  },\r\n  getAllFromUser: function(username) {\r\n    return axios.get(\"/api/days/\" + username);\r\n  },\r\n  // Gets the day with the given date\r\n  getDay: function(date) {\r\n    return axios.get(\"/api/days/\" + date);\r\n  },\r\n  // Deletes the day with the given date\r\n  // deleteDay: function(date) {\r\n  //   return axios.delete(\"/api/days/\" + date);\r\n  // },\r\n  // Saves a day to the database\r\n  saveDay: function(rating) {\r\n    return axios.post(\"/api/days/\", rating);\r\n  },\r\n  updateDay: function(rating, date) {\r\n    return axios.put(\"/api/days/\" + date, rating)\r\n  },\r\n  sendMail: function(mail) {\r\n    return axios.post(\"/mail/send/\", mail);\r\n  }\r\n};\r\n","import React, {Component} from \"react\";\r\n\r\nimport {Rater, Submit} from \"../components/Rater\";\r\n\r\nimport API from \"../utils/API\";\r\n\r\nclass Entry extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state= {\r\n      dayRating: \"0\",\r\n      currentUser: props.currentUser,\r\n      today: this.getTodaysDate().toDateString()\r\n    }\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  // returns today's date without hours, minutes, seconds, milliseconds\r\n  getTodaysDate = () => {\r\n    let today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    console.log(today);\r\n    return today;\r\n  }\r\n\r\n  // handle any changes to the input fields\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    console.log(`Submitted: ${this.state.dayRating} on ${this.state.today}`);\r\n\r\n    API.saveDay({\r\n      rating: this.state.dayRating,\r\n      date: this.state.today,\r\n      username: this.state.currentUser\r\n    });\r\n  }\r\n\r\n  render() {\r\n    \r\n    return(\r\n\r\n      <div>\r\n\r\n        <p className=\"lead\">How was your day?</p>\r\n        <p className=\"testingfield\">Selected Rating: {this.state.dayRating}</p>\r\n        <p className=\"testingfield\">Current User: {this.state.currentUser}</p>\r\n        <p className=\"testingfield\">Current Date: {this.state.today}</p>\r\n\r\n        <Rater\r\n          name='dayRating'\r\n          onChange={this.handleInputChange}\r\n          checked={this.state.dayRating}\r\n        />\r\n        <Submit \r\n          onClick={this.handleSubmit}\r\n        />\r\n      </div>\r\n\r\n    )\r\n  }\r\n\r\n};\r\n\r\nexport default Entry;","import React from \"react\";\r\n\r\nimport \"./Viewer.css\";\r\n\r\n// This file exports both the List and ListItem components\r\n\r\nexport function List({ children }) {\r\n  return (\r\n    <div className=\"list-overflow-container\">\r\n      <ul className=\"list-group\">{children}</ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ListItem({ children }) {\r\n  return <li className=\"list-group-item\">{children}</li>;\r\n}\r\n\r\nexport function DataChart(props) {\r\n  return (\r\n    <div>\r\n      <p>This is where the data chart goes</p>\r\n    </div>\r\n  )\r\n}","import React, {Component} from \"react\";\r\n\r\nimport {List, ListItem, DataChart} from \"../components/Viewer\";\r\nimport API from \"../utils/API\";\r\n\r\nclass Stats extends Component {\r\n  state = {\r\n    days: [],\r\n    currentUser: this.props.currentUser\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadDays();\r\n  }\r\n\r\n  loadDays = () => {\r\n    API.getAllFromUser(this.props.currentUser)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.setState({ days: res.data });\r\n        }\r\n      )\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  prettyDate = (dateString) => {\r\n    let newDate = new Date(dateString);\r\n    return newDate.toDateString();\r\n  }\r\n\r\n  render() {\r\n    return(\r\n\r\n      <div>\r\n\r\n        <p className=\"lead\">A look back at your week</p>\r\n\r\n        <DataChart />\r\n\r\n        {this.state.days.length ? (\r\n          <List>\r\n            {this.state.days.map(day => (\r\n              <ListItem key={day._id}>\r\n                {day.username} on {this.prettyDate(day.date)}: {day.rating}\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        ) : (\r\n          <p className=\"lead\">No Results to Display</p>\r\n        )}\r\n\r\n      </div>\r\n\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Stats;","import React from \"react\";\r\n\r\nexport function Sender(props) {\r\n  return(\r\n    <input className=\"btn btn-primary\" type=\"submit\" value=\"Submit\" onClick={props.onClick}></input>\r\n  )\r\n}","import React, {Component} from \"react\";\r\n\r\nimport { Sender } from \"../components/Prefs\";\r\nimport API from \"../utils/API\";\r\n\r\nclass Settings extends Component {\r\n\r\n  handleSend = event => {\r\n    event.preventDefault();\r\n\r\n    console.log(`Sent mail`);\r\n\r\n    API.sendMail({to: \"kiselblat@gmail.com\", html: \"This is a test of the Mood Tracker Mailer\"});\r\n  }\r\n\r\n  render() {\r\n    return(\r\n\r\n      <div>\r\n\r\n        <p className=\"lead\">Let's test the mailer</p>\r\n\r\n        \r\n\r\n        <Sender \r\n          onClick={this.handleSend}\r\n        />\r\n\r\n      </div>\r\n\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Settings;","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            redirectTo: null\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n  \r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault()\r\n        console.log('handleSubmit')\r\n\r\n        axios\r\n            .post('auth/user/login', {\r\n                username: this.state.username,\r\n                password: this.state.password\r\n            })\r\n            .then(response => {\r\n                console.log('login response: ')\r\n                console.log(response)\r\n                if (response.status === 200) {\r\n                    // update App.js state\r\n                    this.props.updateUser({\r\n                        loggedIn: true,\r\n                        username: response.data.username\r\n                    })\r\n                    // update the state to redirect to home\r\n                    this.setState({\r\n                        redirectTo: '/'\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                console.log('login error: ')\r\n                console.log(error);\r\n                \r\n            })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirectTo) {\r\n            return <Redirect to={{ pathname: this.state.redirectTo }} />\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <h4>Login</h4>\r\n                    <form className=\"form-horizontal\">\r\n                        <div className=\"form-group\">\r\n                            <div className=\"col-1 col-ml-auto\">\r\n                                <label className=\"form-label\" htmlFor=\"username\">Username</label>\r\n                            </div>\r\n                            <div className=\"col-3 col-mr-auto\">\r\n                                <input className=\"form-input\"\r\n                                    type=\"text\"\r\n                                    id=\"username\"\r\n                                    name=\"username\"\r\n                                    placeholder=\"Username\"\r\n                                    value={this.state.username}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"col-1 col-ml-auto\">\r\n                                <label className=\"form-label\" htmlFor=\"password\">Password: </label>\r\n                            </div>\r\n                            <div className=\"col-3 col-mr-auto\">\r\n                                <input className=\"form-input\"\r\n                                    placeholder=\"password\"\r\n                                    type=\"password\"\r\n                                    name=\"password\"\r\n                                    value={this.state.password}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group \">\r\n                            <div className=\"col-7\"></div>\r\n                            <button\r\n                                className=\"btn btn-primary col-1 col-mr-auto\"\r\n                               \r\n                                onClick={this.handleSubmit}\r\n                                type=\"submit\">Login</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Login\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nclass Register extends Component {\r\n\tconstructor() {\r\n\t\tsuper()\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tconfirmPassword: '',\r\n\t\t}\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\r\n\t\tthis.handleChange = this.handleChange.bind(this)\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\thandleSubmit(event) {\r\n\t\tconsole.log('sign-up handleSubmit, username: ')\r\n\t\tconsole.log(this.state.username)\r\n\t\tevent.preventDefault()\r\n\r\n\t\t//request to server to add a new username/password\r\n\t\taxios.post('/auth/user/', {\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password\r\n\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tif (!response.data.errmsg) {\r\n\t\t\t\t\tconsole.log('successful signup')\r\n\t\t\t\t\tthis.setState({ //redirect to login page\r\n\t\t\t\t\t\tredirectTo: '/login'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('username already taken')\r\n\t\t\t\t}\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.log('signup error: ')\r\n\t\t\t\tconsole.log(error)\r\n\r\n\t\t\t})\r\n\t}\r\n\r\n\r\nrender() {\r\n\treturn (\r\n\t\t<div className=\"SignupForm\">\r\n\t\t\t<h4>Sign up</h4>\r\n\t\t\t<form className=\"form-horizontal\">\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<div className=\"col-1 col-ml-auto\">\r\n\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"username\">Username</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-3 col-mr-auto\">\r\n\t\t\t\t\t\t<input className=\"form-input\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<div className=\"col-1 col-ml-auto\">\r\n\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"password\">Password: </label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-3 col-mr-auto\">\r\n\t\t\t\t\t\t<input className=\"form-input\"\r\n\t\t\t\t\t\t\tplaceholder=\"password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group \">\r\n\t\t\t\t\t<div className=\"col-7\"></div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"btn btn-primary col-1 col-mr-auto\"\r\n\t\t\t\t\t\tonClick={this.handleSubmit}\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t>Sign up</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\r\n\t)\r\n}\r\n}\r\n\r\nexport default Register;\r\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport Header from \"./components/Header\";\nimport Entry from \"./pages/Entry\"\nimport Stats from \"./pages/Stats\"\nimport Settings from \"./pages/Settings\"\nimport Login from \"./pages/Login\"\nimport Register from \"./pages/Register\"\n// import Rater from \"./components/Rater\";\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      loggedIn: false,\n      username: null\n    }\n\n    this.getUser = this.getUser.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this)\n    this.updateUser = this.updateUser.bind(this)    \n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  updateUser(userObject) {\n    this.setState(userObject);\n  }\n\n  getUser() {\n    axios.get(\"/user/\").then(response => {\n      console.log(\"Get user response: \");\n      console.log(response.data);\n      if (response.data.user) {\n        console.log(\"Get User: There is a user saved in the server session: \");\n        this.setState({\n          loggedIn: true,\n          username: response.data.user.username\n        })\n      } else {\n        console.log(\"Get user: no user\");\n        this.setState({\n          loggedIn: false,\n          username: null\n        })\n      }\n    })\n  }\n\n  render() {\n    return (\n        <Router>\n          <Header updateUser={this.updateUser} loggedIn={this.state.loggedIn} currentUser={this.state.username}/>\n          {!this.state.loggedIn ?\n            // if user isn't logged in, force login\n            <Switch>\n              <Route\n              path=\"/signup\"\n              render={() =>\n                <Register/>}\n              />\n              <Route\n              render={() => \n                <Login\n                  updateUser={this.updateUser}\n                  />\n                }\n              />\n            </Switch>\n          :\n            // if the user is logged in\n            <Switch>\n              <Route exact path=\"/\" render={ () => {return <Entry  loggedIn={this.state.loggedIn} currentUser={this.state.username} />} } />\n              <Route exact path=\"/entry\" render={ () => {return <Entry  loggedIn={this.state.loggedIn} currentUser={this.state.username} />} } />\n              <Route exact path=\"/stats\" render={ () => {return <Stats  loggedIn={this.state.loggedIn} currentUser={this.state.username} />} } />\n              <Route exact path=\"/settings\" render={ () => {return <Settings  loggedIn={this.state.loggedIn} currentUser={this.state.username} />} } />\n            </Switch>\n          }\n        </Router>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been pre-cached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}